(function(){"use strict";var e={5475:function(e,r,t){var n=t(5130),o=t(6768);const u={id:"app"};function c(e,r,t,n,c,a){const s=(0,o.g2)("Header"),i=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",u,[(0,o.bF)(s,{onCurrencyChanged:a.handleCurrencyChange},null,8,["onCurrencyChanged"]),((0,o.uX)(),(0,o.Wv)(i,{key:c.currentBaseCurrency,baseCurrency:c.currentBaseCurrency},null,8,["baseCurrency"]))])}var a=t.p+"img/icon.973306a2.svg";const s=e=>((0,o.Qi)("data-v-733d52db"),e=e(),(0,o.jt)(),e),i={class:"header"},l=s((()=>(0,o.Lk)("img",{src:a,alt:"Site Icon",class:"nav-icon"},null,-1))),d=s((()=>(0,o.Lk)("option",{value:"USD"},"USD",-1))),h=s((()=>(0,o.Lk)("option",{value:"EUR"},"EUR",-1))),v=s((()=>(0,o.Lk)("option",{value:"RUB"},"RUB",-1))),f=[d,h,v];function p(e,r,t,u,c,a){const s=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("header",i,[(0,o.Lk)("nav",null,[l,(0,o.bF)(s,{to:"/",class:"nav-link"},{default:(0,o.k6)((()=>[(0,o.eW)("Главная")])),_:1}),(0,o.bF)(s,{to:"/convert",class:"nav-link"},{default:(0,o.k6)((()=>[(0,o.eW)("Конвертер валют")])),_:1})]),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":r[0]||(r[0]=e=>c.selectedCurrency=e),onChange:r[1]||(r[1]=(...e)=>a.onCurrencyChange&&a.onCurrencyChange(...e)),class:"currency-select"},f,544),[[n.u1,c.selectedCurrency]])])}var y={data(){return{selectedCurrency:"RUB"}},methods:{onCurrencyChange(){this.$emit("currency-changed",this.selectedCurrency)}}},C=t(1241);const m=(0,C.A)(y,[["render",p],["__scopeId","data-v-733d52db"]]);var b=m,k={components:{Header:b},data(){return{currentBaseCurrency:"rub"}},methods:{handleCurrencyChange(e){this.currentBaseCurrency=e}}};const g=(0,C.A)(k,[["render",c]]);var L=g,_=t(973),U=t(4232);const A=e=>((0,o.Qi)("data-v-22e71fdf"),e=e(),(0,o.jt)(),e),w={class:"container"},R=A((()=>(0,o.Lk)("h1",null,"Конвертация валют",-1))),E={class:"converter"},O={class:"input-group"},j=A((()=>(0,o.Lk)("label",{for:"fromCurrency"},"Из валюты:",-1))),B=A((()=>(0,o.Lk)("option",{value:"rub"},"RUB",-1))),S=A((()=>(0,o.Lk)("option",{value:"usd"},"USD",-1))),X=A((()=>(0,o.Lk)("option",{value:"eur"},"EUR",-1))),x=[B,S,X],F={class:"input-group"},I=A((()=>(0,o.Lk)("label",{for:"toCurrency"},"В валюту:",-1))),$=A((()=>(0,o.Lk)("option",{value:"rub"},"RUB",-1))),P=A((()=>(0,o.Lk)("option",{value:"usd"},"USD",-1))),V=A((()=>(0,o.Lk)("option",{value:"eur"},"EUR",-1))),D=[$,P,V],T={key:0,class:"error"};function H(e,r,t,u,c,a){return(0,o.uX)(),(0,o.CE)("div",w,[R,(0,o.Lk)("div",E,[(0,o.Lk)("div",O,[j,(0,o.bo)((0,o.Lk)("select",{id:"fromCurrency","onUpdate:modelValue":r[0]||(r[0]=e=>c.fromCurrency=e),onChange:r[1]||(r[1]=(...e)=>a.convert&&a.convert(...e))},x,544),[[n.u1,c.fromCurrency]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":r[2]||(r[2]=e=>c.fromAmount=e),type:"number",onInput:r[3]||(r[3]=(...e)=>a.convert&&a.convert(...e)),placeholder:"Введите сумму"},null,544),[[n.Jo,c.fromAmount,void 0,{number:!0}]])]),(0,o.Lk)("div",F,[I,(0,o.bo)((0,o.Lk)("select",{id:"toCurrency","onUpdate:modelValue":r[4]||(r[4]=e=>c.toCurrency=e),onChange:r[5]||(r[5]=(...e)=>a.convert&&a.convert(...e))},D,544),[[n.u1,c.toCurrency]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":r[6]||(r[6]=e=>c.toAmount=e),type:"number",disabled:"",placeholder:"Результат"},null,512),[[n.Jo,c.toAmount,void 0,{number:!0}]])])]),c.error?((0,o.uX)(),(0,o.CE)("p",T,(0,U.v_)(c.error),1)):(0,o.Q3)("",!0)])}var M=t(4373);const Q="https://status.neuralgeneration.com/api/currency",W=async()=>{try{const e=await M.A.get(Q);if(200===e.status&&e.data)return e.data;throw new Error("Ошибка при получении курсов валют")}catch(e){return console.error("Ошибка в запросе к API:",e),null}};var J={data(){return{fromCurrency:"rub",toCurrency:"usd",fromAmount:1,toAmount:0,rates:{},error:""}},methods:{async fetchRates(){try{this.rates=await W(),this.rates&&this.rates[`${this.fromCurrency}-${this.toCurrency}`]?(this.error="",this.convert()):(this.error="Курсы валют не загружены или отсутствуют данные для выбранных валют.",this.toAmount=0)}catch(e){this.error="Ошибка при получении курсов валют.",this.toAmount=0}},convert(){const e=`${this.fromCurrency}-${this.toCurrency}`;if(this.rates[e]){const r=this.rates[e];this.toAmount=(this.fromAmount*r).toFixed(2)}else this.toAmount=0}},mounted(){this.fetchRates()}};const q=(0,C.A)(J,[["render",H],["__scopeId","data-v-22e71fdf"]]);var K=q;const z={class:"currency-list"},G={class:"currency"},N={class:"rate"};function Y(e,r,t,n,u,c){return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("h1",null,"Курсы валют относительно "+(0,U.v_)(t.baseCurrency.toUpperCase()),1),(0,o.Lk)("ul",z,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(u.rates,((e,r)=>((0,o.uX)(),(0,o.CE)("li",{key:r},[(0,o.Lk)("span",G,(0,U.v_)(r.toUpperCase())+":",1),(0,o.Lk)("span",N,"1 "+(0,U.v_)(r.toUpperCase())+" = "+(0,U.v_)(e)+" "+(0,U.v_)(t.baseCurrency.toUpperCase()),1)])))),128))])])}var Z={props:{baseCurrency:{type:String,required:!0}},data(){return{rates:{}}},watch:{baseCurrency:"fetchRates"},methods:{async fetchRates(){try{const e=await W(),r=`usd-${this.baseCurrency.toLowerCase()}`;"usd"===this.baseCurrency.toLowerCase()?this.rates=this.convertRates(e,1):e&&e[r]?this.rates=this.convertRates(e,e[r]):console.error("Base currency not found in the response data")}catch(e){console.error("Error fetching currency rates:",e)}},convertRates(e,r){const t={};for(const[n,o]of Object.entries(e)){const[e,u]=n.split("-");"usd"===e&&(t[u]=(r/o).toFixed(2))}return t}},mounted(){this.fetchRates()}};const ee=(0,C.A)(Z,[["render",Y],["__scopeId","data-v-5ed31dcd"]]);var re=ee;const te=[{path:"/",component:re,name:"Home"},{path:"/convert",component:K,name:"Convert"},{path:"/:catchAll(.*)",redirect:"/"}],ne=(0,_.aE)({history:(0,_.Bt)(),routes:te});var oe=ne;(0,n.Ef)(L).use(oe).mount("#app")}},r={};function t(n){var o=r[n];if(void 0!==o)return o.exports;var u=r[n]={exports:{}};return e[n].call(u.exports,u,u.exports,t),u.exports}t.m=e,function(){var e=[];t.O=function(r,n,o,u){if(!n){var c=1/0;for(l=0;l<e.length;l++){n=e[l][0],o=e[l][1],u=e[l][2];for(var a=!0,s=0;s<n.length;s++)(!1&u||c>=u)&&Object.keys(t.O).every((function(e){return t.O[e](n[s])}))?n.splice(s--,1):(a=!1,u<c&&(c=u));if(a){e.splice(l--,1);var i=o();void 0!==i&&(r=i)}}return r}u=u||0;for(var l=e.length;l>0&&e[l-1][2]>u;l--)e[l]=e[l-1];e[l]=[n,o,u]}}(),function(){t.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(r,{a:r}),r}}(),function(){t.d=function(e,r){for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.p="/my-currency-converter-spa/"}(),function(){var e={524:0};t.O.j=function(r){return 0===e[r]};var r=function(r,n){var o,u,c=n[0],a=n[1],s=n[2],i=0;if(c.some((function(r){return 0!==e[r]}))){for(o in a)t.o(a,o)&&(t.m[o]=a[o]);if(s)var l=s(t)}for(r&&r(n);i<c.length;i++)u=c[i],t.o(e,u)&&e[u]&&e[u][0](),e[u]=0;return t.O(l)},n=self["webpackChunkmy_currency_converter_spa"]=self["webpackChunkmy_currency_converter_spa"]||[];n.forEach(r.bind(null,0)),n.push=r.bind(null,n.push.bind(n))}();var n=t.O(void 0,[504],(function(){return t(5475)}));n=t.O(n)})();
//# sourceMappingURL=app.1800af01.js.map